define(['jquery','Magento_Ui/js/modal/alert','underscore'],function($,alert){'use strict';return function(url,data){$('body').trigger('processStart');$.extend(data,{'form_key':$.mage.cookies.get('form_key')});$.ajax({url:url,data:data,type:'post',dataType:'json',context:this,}).done(function(response){$('body').trigger('processStop');if(response.error){var msg;msg=response.data.message;if(msg){alert({content:$.mage.__('Sorry, something went wrong. Please try again later.')});}}}).fail(function(error){$('body').trigger('processStop');console.log(JSON.stringify(error));});}});