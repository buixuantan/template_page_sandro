define(['jquery','jquery/validate','mage/translate'],function($){'use strict';return function(){var regex=/^(0|84|\+84)+([0-9]{9})$/i;$.validator.addMethod('mobileVN',function(phoneNumber,element){var self=this;if(phoneNumber.length===0||phoneNumber.charAt(0)!=0){self.validateMessage=$.mage.__('The phone number has to start with 0, ex: 0123456789');return false;}
phoneNumber=phoneNumber.trim();if(phoneNumber.length>9&&phoneNumber.length<=10&&phoneNumber.match(regex)){return true;}else{self.validateMessage=$.mage.__('Please specify a valid phone number.')
return false;}},function(){return this.validateMessage;});$.validator.addMethod('email-or-mobile',function(value,element){var self=this;value=value.trim();self.validateMessage=$.mage.__('Please specify a valid email address or phone number.');if($.isNumeric(value)){if(value.length===0||value.charAt(0)!=0){self.validateMessage=$.mage.__('The phone number has to start with 0, ex: 0123456789');return false;}
return value.length>9&&value.length<=10&&value.match(regex);}else{return $.mage.isEmptyNoTrim(value)||/^([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i.test(value);}},function(){return this.validateMessage;});$.validator.addMethod('custom-dob-validate',function(value,element){var self=this;var dayVal=$('#day').val();var monthVal=$('#month').val();var yearVal=$('#year').val();if(!dayVal||!monthVal||!yearVal){self.validateMessage=$.mage.__('This is a required field.');return false;}
var day=parseInt(dayVal,10)||0;var month=parseInt(monthVal,10)||0;var year=parseInt(yearVal,10)||0;var curYear=(new Date()).getFullYear();if(!day||!month||!year){self.validateMessage=$.mage.__('Please enter a valid full date.');return false;}
if(month<1||month>12){self.validateMessage=$.mage.__('Please enter a valid month (1-12).');return false;}
if(year<1900||year>curYear){var validYearMessage=$.mage.__('Please enter a valid year (1900-%1).');self.validateMessage=validYearMessage.replace('%1',curYear.toString());return false;}
var validateDayInMonth=new Date(year,month,0).getDate();if(day<1||day>validateDayInMonth){var validDateMessage=$.mage.__('Please enter a valid day (1-%1).');self.validateMessage=validDateMessage.replace('%1',validateDayInMonth.toString());return false;}
var today=new Date();var dateEntered=new Date();dateEntered.setFullYear(year,month-1,day);if(dateEntered>today){self.validateMessage=$.mage.__('The Date of Birth should not be greater than today.');return false;}
return true;},function(){return this.validateMessage;});}});